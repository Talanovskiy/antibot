# Инструкция

Данная программа предназначена для блокировки ботов, которые умеют эмулировать браузер, JavaScript, а так же классических ботов.

Программа проверяет посетителя по настроенным фильтрам, и в зависимости от результата выводит каптчу, блокирует или пропускает пользователя.

Основные фильры:

* Белый список
* Индексирующие роботы
* Черный список
* Исключение по User-agent
* Без JavaScript
* Без Cookie
* IPv6
* Мобильный девайс
* Запуск в iframe

## Быстрый старт

1. Распакуйте файлы проекта в папку /antibot/
2. Перейдите по адресу https://сайт.рф/antibot/ и убедитесь, что нет ошибок
3. Вставьте следующую строку в начало вашего кода. Обычно это index.php в корне сайта

```
require_once $_SERVER['DOCUMENT_ROOT'].'/antibot/index.php';
```

4. Проверьте работу сайта
5. Готово

## Белый список

Файл /lists/whileiplist содержит список исключений ip-адресов.

Пример:

> 2001:0db8::85a3:8a2e:0370:7334 #пример для IPv6
>
> 5.24.102.211 # пример для IPv4

## Черный список

Файл /lists/balckiplist содержит список заблокированных ip-адресов. В этот список обычно попадают пользователи, которые пытались каким-ли образом обойти механизм проверки на роботность.

Пример файла:

> 32.23.104.201 c5b4c36d24417e72 # iframe
> 32.23.104.202 c5b4c26d24417e73 # iframe

В данном примере указан IP-адрес, RayID для удобства поиска и комментарий. В данном случае, причина добавления — запуск сайта во фрейме.

## User-agent список

Текст в разработке

## Индексирующие роботы

Текст в разработке

## Лог-файл и отладка

Каждое посещение записывается в лог-файл antibot.log. Тут можно отследить процесс фильтрации и понять причину блокировки. Чтобы отключить логирование измените переменную

```
$AB_DEBUG=false;
```

в файле vars.inc.php. Отключение логирования повышает скорость фильтрации, т.к. нет необходимости лишний раз записывать данные на диск.

## Автор ПО

Текст в разработке
